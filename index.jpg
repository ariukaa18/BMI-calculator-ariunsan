<!DOCTYPE html>
<html lang="mn">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>BMI Калькулятор</title>
<style>
  :root{
    --bg:#f7fbff;
    --card:#ffffff;
    --accent:#e91e63; /* Ягаан өнгө */
    --muted:#6b7280;
    --success:#2e7d32;
    --warning:#f57c00;
    --danger:#d32f2f;
    font-family:"Helvetica Neue", Arial, sans-serif;
  }
  body{
    margin:0;
    background: linear-gradient(180deg,#fce4ec 0%, var(--bg) 100%);
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:24px;
  }
  .container{
    width:100%;
    max-width:640px;
    background:var(--card);
    border-radius:14px;
    box-shadow:0 10px 30px rgba(20,40,60,0.08);
    padding:28px;
  }
  header{ display:flex; gap:14px; align-items:center; margin-bottom:18px; }
  .logo{
    width:64px; height:64px;
    display:flex; align-items:center; justify-content:center;
    border-radius:12px;
  }
  h1{
    font-size:24px;
    margin:0;
    color: var(--accent); /* Ягаан өнгө */
  }
  p.lead{
    margin:4px 0 0;
    color: var(--accent); /* Ягаан өнгө */
    font-size:14px;
  }

  .form{ display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-top:18px; }
  label{ font-weight:600; color:var(--accent) }
  input{ width:100%; padding:10px 12px; border-radius:8px; border:1px solid #d1d5db; font-size:16px; outline:none; box-sizing:border-box; }
  input::-webkit-outer-spin-button,
  input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }

  .row{ display:flex; gap:12px; align-items:center; margin-top:16px; flex-wrap:wrap; }
  button{ background:var(--accent); color:#fff; border:none; padding:10px 16px; border-radius:10px; font-weight:700; cursor:pointer; box-shadow:0 6px 18px rgba(233,30,99,0.3); }
  button.secondary{ background:transparent; color:var(--accent); border:1px solid #f8bbd0; box-shadow:none; font-weight:600; }

  .result-card{
    margin-top:22px;
    padding:18px;
    border-radius:12px;
    background: linear-gradient(180deg, rgba(233,30,99,0.05), rgba(255,255,255,0.6));
    display:flex; gap:18px; align-items:center; flex-wrap:wrap; display:none;
  }
  .bmi-value{ font-size:40px; font-weight:800; color:var(--accent); min-width:140px; }
  .bmi-meta{ flex:1; min-width:160px; }
  .badge{ display:inline-block; padding:8px 12px; border-radius:999px; font-weight:700; color:white; min-width:120px; text-align:center; }
  .cat-under{ background:#1976d2 }
  .cat-normal{ background:#2e7d32 }
  .cat-over{ background:#f57c00; color:#2b2b2b }
  .cat-obese{ background:#d32f2f }

  @media (max-width:520px){
    .form{ grid-template-columns:1fr; }
    .logo{width:52px;height:52px}
    .bmi-value{font-size:32px}
  }
</style>
</head>
<body>
<div class="container" role="main">
  <header>
    <div class="logo" aria-hidden="true">
      <img src="mylogo.jpg1.PNG" alt="BMI Logo" style="width:64px; height:64px; border-radius:12px; object-fit:cover;">
    </div>
    <div>
      <h1>BMI Calculator</h1>
      <p class="lead">Жин ба өндөр оруулж BMI-г болон таргалалтын ангиллыг харах</p>
    </div>
  </header>

  <div class="form">
    <div>
      <label for="weight">Жин (кг)</label>
      <input id="weight" type="text" placeholder="Жишээ: 67 эсвэл 67kg">
    </div>
    <div>
      <label for="height">Өндөр</label>
      <input id="height" type="text" placeholder="Жишээ: 1.68 эсвэл 168cm">
    </div>
  </div>

  <div class="row">
    <button onclick="calcBMI()">Тооцоолох</button>
    <button class="secondary" onclick="fillExample()">Жишээ оруулах</button>
    <button class="secondary" onclick="clearAll()">Цэвэрлэх</button>
  </div>

  <div id="result" class="result-card" aria-live="polite">
    <div class="bmi-value" id="bmiVal">BMI</div>
    <div class="bmi-meta">
      <div id="catBadge" class="badge cat-normal">Ангилал</div>
      <div id="catText" style="margin-top:8px;font-weight:600"></div>
      <div id="advice"></div>
    </div>
  </div>
</div>

<script>
  function extractNumber(raw){
    if(!raw && raw!==0) return NaN;
    raw=String(raw).trim().replace(',','.').toLowerCase();
    const match=raw.match(/-?\d+(\.\d+)?/);
    return match ? parseFloat(match[0]) : NaN;
  }

  function calcBMI(){
    let w = extractNumber(document.getElementById("weight").value);
    let h = extractNumber(document.getElementById("height").value);
    const hRaw = String(document.getElementById("height").value || "").toLowerCase();

    if(!isNaN(h)){
      if(hRaw.includes('см') || hRaw.includes('cm')) h/=100;
      else if(h>=10) h/=100;
    }

    if(isNaN(w) || w<=0){ showError("Жин зөв оруулна уу"); return; }
    if(isNaN(h) || h<=0){ showError("Өндөр зөв оруулна уу"); return; }

    const bmi = w / (h*h);
    renderResult(bmi);
  }

  function showError(msg){
    const res=document.getElementById("result");
    res.style.display="flex";
    document.getElementById("bmiVal").textContent="Алдаа";
    const badge=document.getElementById("catBadge");
    badge.textContent="Алдаа"; badge.className="badge"; badge.style.background="#999";
    document.getElementById("catText").textContent=msg;
    document.getElementById("advice").textContent="";
  }

  function renderResult(bmi){
    if(!Number.isFinite(bmi)){ showError("Тоон утга гарсангүй."); return; }
    const rounded=Math.round(bmi*100)/100;
    document.getElementById("bmiVal").textContent=rounded.toFixed(2);

    let cat="", badgeClass="", catMsg="", adv="";
    if(rounded<18.5){
      cat="Жингийн дутагдал"; badgeClass="cat-under";
      catMsg="Жин бага. Эрүүл хооллолт, дасгал хэрэгтэй."; adv="Тэжээллэг хоол идэх, мэргэжлийн зөвлөгөө авч болно.";
    } else if(rounded<25){
      cat="Энгийн/Хэвийн"; badgeClass="cat-normal";
      catMsg="Сайн байна! Хэв маягаа хадгалаарай."; adv="Тогтмол хөдөлгөөн, тэнцвэртэй хооллолт хэрэгтэй.";
    } else if(rounded<30){
      cat="Жин ихтэй"; badgeClass="cat-over";
      catMsg="Жин нэмэгдсэн байна. Хооллолт, хөдөлгөөнийг анхаар."; adv="Кардио дасгал, калори хянах, мэргэжилтнээс зөвлөгөө аваарай.";
    } else {
      cat="Таргалалт"; badgeClass="cat-obese";
      catMsg="Таргалалтын эрсдэлтэй. Эмчийн шалгалт шаардлагатай."; adv="Хурдан өөрчлөлт хийх — эмчтэй холбоо барина уу.";
    }

    const badge=document.getElementById("catBadge");
    badge.className="badge "+badgeClass; badge.textContent=cat;
    document.getElementById("catText").textContent=catMsg;
    document.getElementById("advice").textContent=adv;
    document.getElementById("result").style.display="flex";
  }

  function fillExample(){ document.getElementById("weight").value="67"; document.getElementById("height").value="168"; calcBMI(); }
  function clearAll(){ document.getElementById("weight").value=""; document.getElementById("height").value=""; document.getElementById("result").style.display="none"; }

  document.addEventListener('keydown',function(e){
    if(e.key==='Enter'){
      const el=document.activeElement;
      if(el && (el.id==='weight' || el.id==='height')) calcBMI();
    }
  });
</script>
</body>
</html>
